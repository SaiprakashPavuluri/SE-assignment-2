{"ast":null,"code":"const GET_ROCKETS = 'GET_ROCKETS';\nconst BOOK_ROCKET = 'BOOK_ROCKET';\nconst CANCEL_ROCKET = 'CANCEL_ROCKET';\nconst BASE_URL = 'https://api.spacexdata.com/v3';\nconst END_POINT = 'rockets';\n\nconst Reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_ROCKETS:\n      return action.rockets.map(rocket => {\n        const {\n          id,\n          rocket_name: rocketName,\n          description,\n          flickr_images: flickrImages\n        } = rocket;\n        return {\n          id,\n          rocketName,\n          description,\n          flickrImages\n        };\n      });\n\n    case BOOK_ROCKET:\n      return state.map(rocket => {\n        if (rocket.id === action.id) {\n          return { ...rocket,\n            reserved: true\n          };\n        }\n\n        return rocket;\n      });\n\n    case CANCEL_ROCKET:\n      return state.map(rocket => {\n        if (rocket.id === action.id) {\n          return { ...rocket,\n            reserved: false\n          };\n        }\n\n        return rocket;\n      });\n\n    default:\n      return state;\n  }\n};\n\n_c = Reducer;\nexport const getRockets = rockets => ({\n  type: GET_ROCKETS,\n  rockets\n});\nexport const bookRocket = id => ({\n  type: BOOK_ROCKET,\n  id\n});\nexport const cancelBookRocket = id => ({\n  type: CANCEL_ROCKET,\n  id\n});\nexport const getAsyncRockets = () => dispatch => {\n  fetch(`${BASE_URL}/${END_POINT}`, {\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8'\n    }\n  }).then(res => res.json()).then(data => {\n    dispatch(getRockets(data));\n  });\n};\nexport default Reducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reducer\");","map":{"version":3,"names":["GET_ROCKETS","BOOK_ROCKET","CANCEL_ROCKET","BASE_URL","END_POINT","Reducer","state","action","type","rockets","map","rocket","id","rocket_name","rocketName","description","flickr_images","flickrImages","reserved","getRockets","bookRocket","cancelBookRocket","getAsyncRockets","dispatch","fetch","headers","then","res","json","data"],"sources":["D:/Projects/assignment/self-profile/src/redux/Rockets/Rockets.js"],"sourcesContent":["const GET_ROCKETS = 'GET_ROCKETS';\r\nconst BOOK_ROCKET = 'BOOK_ROCKET';\r\nconst CANCEL_ROCKET = 'CANCEL_ROCKET';\r\nconst BASE_URL = 'https://api.spacexdata.com/v3';\r\nconst END_POINT = 'rockets';\r\n\r\nconst Reducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GET_ROCKETS:\r\n      return action.rockets.map((rocket) => {\r\n        const {\r\n          id,\r\n          rocket_name: rocketName,\r\n          description,\r\n          flickr_images: flickrImages,\r\n        } = rocket;\r\n        return {\r\n          id,\r\n          rocketName,\r\n          description,\r\n          flickrImages,\r\n        };\r\n      });\r\n    case BOOK_ROCKET:\r\n      return state.map((rocket) => {\r\n        if (rocket.id === action.id) {\r\n          return { ...rocket, reserved: true };\r\n        }\r\n        return rocket;\r\n      });\r\n    case CANCEL_ROCKET:\r\n      return state.map((rocket) => {\r\n        if (rocket.id === action.id) {\r\n          return { ...rocket, reserved: false };\r\n        }\r\n        return rocket;\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getRockets = (rockets) => ({ type: GET_ROCKETS, rockets });\r\n\r\nexport const bookRocket = (id) => ({ type: BOOK_ROCKET, id });\r\n\r\nexport const cancelBookRocket = (id) => ({ type: CANCEL_ROCKET, id });\r\n\r\nexport const getAsyncRockets = () => (dispatch) => {\r\n  fetch(`${BASE_URL}/${END_POINT}`, {\r\n    headers: {\r\n      'Content-type': 'application/json; charset=UTF-8',\r\n    },\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      dispatch(getRockets(data));\r\n    });\r\n};\r\n\r\nexport default Reducer;\r\n"],"mappings":"AAAA,MAAMA,WAAW,GAAG,aAApB;AACA,MAAMC,WAAW,GAAG,aAApB;AACA,MAAMC,aAAa,GAAG,eAAtB;AACA,MAAMC,QAAQ,GAAG,+BAAjB;AACA,MAAMC,SAAS,GAAG,SAAlB;;AAEA,MAAMC,OAAO,GAAG,YAAwB;EAAA,IAAvBC,KAAuB,uEAAf,EAAe;EAAA,IAAXC,MAAW;;EACtC,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKR,WAAL;MACE,OAAOO,MAAM,CAACE,OAAP,CAAeC,GAAf,CAAoBC,MAAD,IAAY;QACpC,MAAM;UACJC,EADI;UAEJC,WAAW,EAAEC,UAFT;UAGJC,WAHI;UAIJC,aAAa,EAAEC;QAJX,IAKFN,MALJ;QAMA,OAAO;UACLC,EADK;UAELE,UAFK;UAGLC,WAHK;UAILE;QAJK,CAAP;MAMD,CAbM,CAAP;;IAcF,KAAKhB,WAAL;MACE,OAAOK,KAAK,CAACI,GAAN,CAAWC,MAAD,IAAY;QAC3B,IAAIA,MAAM,CAACC,EAAP,KAAcL,MAAM,CAACK,EAAzB,EAA6B;UAC3B,OAAO,EAAE,GAAGD,MAAL;YAAaO,QAAQ,EAAE;UAAvB,CAAP;QACD;;QACD,OAAOP,MAAP;MACD,CALM,CAAP;;IAMF,KAAKT,aAAL;MACE,OAAOI,KAAK,CAACI,GAAN,CAAWC,MAAD,IAAY;QAC3B,IAAIA,MAAM,CAACC,EAAP,KAAcL,MAAM,CAACK,EAAzB,EAA6B;UAC3B,OAAO,EAAE,GAAGD,MAAL;YAAaO,QAAQ,EAAE;UAAvB,CAAP;QACD;;QACD,OAAOP,MAAP;MACD,CALM,CAAP;;IAMF;MACE,OAAOL,KAAP;EA/BJ;AAiCD,CAlCD;;KAAMD,O;AAoCN,OAAO,MAAMc,UAAU,GAAIV,OAAD,KAAc;EAAED,IAAI,EAAER,WAAR;EAAqBS;AAArB,CAAd,CAAnB;AAEP,OAAO,MAAMW,UAAU,GAAIR,EAAD,KAAS;EAAEJ,IAAI,EAAEP,WAAR;EAAqBW;AAArB,CAAT,CAAnB;AAEP,OAAO,MAAMS,gBAAgB,GAAIT,EAAD,KAAS;EAAEJ,IAAI,EAAEN,aAAR;EAAuBU;AAAvB,CAAT,CAAzB;AAEP,OAAO,MAAMU,eAAe,GAAG,MAAOC,QAAD,IAAc;EACjDC,KAAK,CAAE,GAAErB,QAAS,IAAGC,SAAU,EAA1B,EAA6B;IAChCqB,OAAO,EAAE;MACP,gBAAgB;IADT;EADuB,CAA7B,CAAL,CAKGC,IALH,CAKSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EALjB,EAMGF,IANH,CAMSG,IAAD,IAAU;IACdN,QAAQ,CAACJ,UAAU,CAACU,IAAD,CAAX,CAAR;EACD,CARH;AASD,CAVM;AAYP,eAAexB,OAAf"},"metadata":{},"sourceType":"module"}